# Nome do seu workflow
name: Pipeline de CI/CD da Aula

# Define o gatilho: rodar esta pipeline a cada 'push' na branch 'main'
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# Define os trabalhos (jobs) a serem executados
jobs:
  # O nome do seu job (pode ser qualquer nome)
  build-e-log:
    # O tipo de máquina que vai rodar o job
    runs-on: ubuntu-latest

    # As etapas (steps) do job
    steps:
      # 1. Baixa o código do seu repositório para a máquina
      - name: Checkout do código
        uses: actions/checkout@v3

      # 2. Executa um script (similar ao .gitlab-ci.yml da aula) [cite: 590-595]
      - name: Mostrar arquivos e informações
        run: |
          echo "Iniciando a pipeline (como no exemplo do Prof. Israel)!"
          echo "------------------------------------------------------"
          ls -la
          echo "------------------------------------------------------"
          date
          echo "------------------------------------------------------"
          echo "Pipeline executada com sucesso!"